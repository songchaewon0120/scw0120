!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e||self).reactKakaoMapsSdk={},e.react,e.reactDom)}(this,function(e,t,n){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/o(t),r=/*#__PURE__*/o(n);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t.indexOf(n=r[o])>=0||(a[n]=e[n]);return a}var l,c="undefined"!=typeof window&&"undefined"!=typeof document?t.useLayoutEffect:t.useEffect,f=function(e,t,n){c(function(){if(e&&n){var o=function(){var t=[].slice.call(arguments);return void 0===t?n(e):n.apply(void 0,[e].concat(t))};return kakao.maps.event.addListener(e,t,o),function(){kakao.maps.event.removeListener(e,t,o)}}},[e,t,n])};!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(l||(l={}));var d=/*#__PURE__*/function(){function e(t){var n=t.appkey,o=t.id,a=void 0===o?"__reactKakaoMapsSdkloaderId":o,r=t.libraries,i=void 0===r?[]:r,u=t.nonce,s=t.retries,l=void 0===s?3:s,c=t.url,f=void 0===c?"//dapi.kakao.com/v2/maps/sdk.js":c;if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=a,this.appkey=n,this.libraries=i,this.nonce=u,this.retries=l,this.url=f,e.instance){if(!e.equalOptions(this.options,e.instance.options))throw new Error("Loader must not be called again with different options. "+JSON.stringify(this.options)+" !== "+JSON.stringify(e.instance.options));return e.instance}e.instance=this}e.isLoaded=function(){return new Promise(function(t){return e.instance?e.instance.status===l.FAILURE||e.instance.status===l.INITIALIZED?t(!1):(e.instance.status===l.LOADING&&e.loadcheckcallbacks.push(function(e){return t(!e)}),t(!0)):window.kakao&&window.kakao.maps?window.kakao.maps.load(function(){t(!0)}):e.loadcheckcallbacks.push(function(e){t(!e)})})};var t,n,o=e.prototype;return o.load=function(){var e=this;return new Promise(function(t,n){e.loadCallback(function(e){e?n(e.error):t(window.kakao)})})},o.loadCallback=function(e){this.callbacks.push(e),this.execute()},o.resetIfRetryingFailed=function(){this.failed&&this.reset()},o.reset=function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0},o.execute=function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void window.kakao.maps.load(this.callback);this.loading||(this.loading=!0,this.setScript())}},o.setScript=function(){document.getElementById(this.id)&&this.callback();var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)},o.loadErrorCallback=function(e,t,n,o,a){var r=this;if(this.errors.push({event:e,source:t,lineno:n,colno:o,error:a}),this.errors.length<=this.retries){var i=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Kakao Maps script, retrying in "+i+" ms."),setTimeout(function(){r.deleteScript(),r.setScript()},i)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()},o.createUrl=function(){var e=this.url;return e+="?appkey="+this.appkey,this.libraries.length&&(e+="&libraries="+this.libraries.join(",")),e+"&autoload=false"},o.deleteScript=function(){var e=document.getElementById(this.id);e&&e.remove()},o.callback=function(){var t=this;kakao.maps.load(function(){t.done=!0,t.loading=!1,t.callbacks.forEach(function(e){e(t.onerrorEvent)}),t.callbacks=[],e.loadcheckcallbacks.forEach(function(e){e(t.onerrorEvent)}),e.loadcheckcallbacks=[]})},e.equalOptions=function(e,t){if(e.appkey!==t.appkey)return!1;if(e.id!==t.id)return!1;if(e.libraries.length!==t.libraries.length)return!1;for(var n=0;n<e.libraries.length;++n)if(e.libraries[n]!==t.libraries[n])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url},t=e,(n=[{key:"options",get:function(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}},{key:"status",get:function(){return this.onerrorEvent?l.FAILURE:this.done?l.SUCCESS:this.loading?l.LOADING:l.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();d.instance=void 0,d.loadcheckcallbacks=[];var p=["id","as","children","center","isPanto","padding","disableDoubleClick","disableDoubleClickZoom","draggable","zoomable","keyboardShortcuts","level","maxLevel","minLevel","mapTypeId","projectionId","scrollwheel","tileAnimation","onBoundsChanged","onCenterChanged","onClick","onDoubleClick","onDrag","onDragEnd","onDragStart","onIdle","onMaptypeidChanged","onMouseMove","onRightClick","onTileLoaded","onZoomChanged","onZoomStart","onCreate"],k=a.default.createContext(void 0),m=a.default.forwardRef(function(e,n){var o=e.id,r=e.as,u=e.children,l=e.center,m=e.isPanto,v=void 0!==m&&m,g=e.padding,y=void 0===g?32:g,h=e.disableDoubleClick,w=e.disableDoubleClickZoom,C=e.draggable,L=e.zoomable,M=e.keyboardShortcuts,E=e.level,b=e.maxLevel,I=e.minLevel,O=e.mapTypeId,x=e.projectionId,S=e.scrollwheel,z=e.tileAnimation,P=e.onBoundsChanged,R=e.onCenterChanged,A=e.onClick,D=e.onDoubleClick,T=e.onDrag,Z=e.onDragEnd,W=e.onDragStart,H=e.onIdle,j=e.onMaptypeidChanged,N=e.onMouseMove,_=e.onRightClick,F=e.onTileLoaded,G=e.onZoomChanged,U=e.onZoomStart,V=e.onCreate,q=s(e,p),B=r||"div",K=t.useState(!1),J=K[0],X=K[1],Y=t.useState(),Q=Y[0],$=Y[1],ee=t.useRef(null);return c(function(){d.isLoaded().then(X)},[]),c(function(){if(J){var e=ee.current;if(e){var t="lat"in l?new kakao.maps.LatLng(l.lat,l.lng):new kakao.maps.Coords(l.x,l.y),n=new kakao.maps.Map(e,{center:t,disableDoubleClick:h,disableDoubleClickZoom:w,draggable:C,keyboardShortcuts:M,level:E,mapTypeId:O,projectionId:x,scrollwheel:S,tileAnimation:z});return $(n),function(){e.innerHTML=""}}}},[J,h,w,O,z]),t.useImperativeHandle(n,function(){return Q},[Q]),c(function(){Q&&V&&V(Q)},[Q,V]),c(function(){if(Q){var e=Q.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());var t="lat"in l?new kakao.maps.LatLng(l.lat,l.lng):new kakao.maps.Coords(l.x,l.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(v?Q.panTo(t,y):Q.setCenter(t))}},[Q,l.lat,l.lng,l.x,l.y]),c(function(){Q&&void 0!==C&&Q.setDraggable(C)},[Q,C]),c(function(){Q&&void 0!==L&&Q.setZoomable(L)},[Q,L]),c(function(){Q&&M&&"boolean"==typeof M&&Q.setKeyboardShortcuts(M)},[Q,M]),c(function(){Q&&E&&Q.setLevel(E)},[Q,E]),c(function(){Q&&O&&Q.setMapTypeId(O)},[Q,O]),c(function(){Q&&x&&Q.setProjectionId(x)},[Q,x]),c(function(){Q&&b&&Q.setMaxLevel(b)},[Q,b]),c(function(){Q&&I&&Q.setMinLevel(I)},[Q,I]),f(Q,"bounds_changed",P),f(Q,"center_changed",R),f(Q,"click",A),f(Q,"dblclick",D),f(Q,"drag",T),f(Q,"dragstart",W),f(Q,"dragend",Z),f(Q,"idle",H),f(Q,"maptypeid_changed",j),f(Q,"mousemove",N),f(Q,"rightclick",_),f(Q,"tilesloaded",F),f(Q,"zoom_changed",G),f(Q,"zoom_start",U),a.default.createElement(a.default.Fragment,null,a.default.createElement(B,i({id:o||"react-kakao-maps-sdk-map-container"},q,{ref:ee})),Q&&a.default.createElement(k.Provider,{value:Q},u))}),v=function(e){var n=t.useContext(k);if(!n)throw new Error((e?e+" Component":"useMap")+" must exist inside Map Component!");return n},g=a.default.forwardRef(function(e,n){var o=e.map,a=e.position,i=e.marker,u=e.children,s=e.altitude,l=e.disableAutoPan,c=e.range,f=e.removable,d=e.zIndex,p=e.onCreate,k=t.useRef(document.createElement("div")),m=t.useMemo(function(){var e=new kakao.maps.InfoWindow({altitude:s,disableAutoPan:l,range:c,removable:f,zIndex:d,content:k.current,position:a});return k.current.style.display="none",e},[l,f]);return t.useImperativeHandle(n,function(){return m},[m]),t.useLayoutEffect(function(){return m.open(o,i),function(){m.close()}},[o,i]),t.useLayoutEffect(function(){p&&p(m)},[m,p]),t.useLayoutEffect(function(){m&&m.setPosition(a)},[m,a]),t.useLayoutEffect(function(){m&&s&&m.setAltitude(s)},[m,s]),t.useLayoutEffect(function(){m&&c&&m.setRange(c)},[m,c]),t.useLayoutEffect(function(){m&&d&&m.setZIndex(d)},[m,d]),k.current.parentElement&&r.default.createPortal(u,k.current.parentElement)}),y=a.default.createContext(void 0),h=a.default.forwardRef(function(e,n){var o=e.children,r=e.averageCenter,i=e.calculator,u=e.clickable,s=e.disableClickZoom,l=e.gridSize,c=e.hoverable,d=e.minClusterSize,p=e.minLevel,k=e.styles,m=e.texts,g=e.onClusterclick,h=e.onClusterdblclick,w=e.onClustered,C=e.onClusterout,L=e.onClusterover,M=e.onClusterrightclick,E=e.onCreate,b=v("MarkerClusterer"),I=t.useMemo(function(){if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:r,calculator:i,clickable:u,disableClickZoom:s,gridSize:l,hoverable:c,minClusterSize:d,minLevel:p,styles:k,texts:m});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return t.useImperativeHandle(n,function(){return I},[I]),t.useLayoutEffect(function(){null==I||I.setMap(b)},[b,I]),t.useLayoutEffect(function(){I&&E&&E(I)},[I,E]),t.useLayoutEffect(function(){I&&l&&(I.setGridSize(l),I.redraw())},[I,l]),t.useLayoutEffect(function(){I&&d&&(I.setMinClusterSize(d),I.redraw())},[I,d]),t.useLayoutEffect(function(){I&&void 0!==r&&(I.setAverageCenter(r),I.redraw())},[I,r]),t.useLayoutEffect(function(){I&&p&&(I.setMinLevel(p),I.redraw())},[I,p]),t.useLayoutEffect(function(){I&&m&&(I.setTexts(m),I.redraw())},[I,m]),t.useLayoutEffect(function(){I&&i&&(I.setCalculator(i),I.redraw())},[I,i]),t.useLayoutEffect(function(){I&&k&&(I.setStyles(k),I.redraw())},[I,k]),f(I,"clusterclick",g),f(I,"clusterover",L),f(I,"clusterout",C),f(I,"clusterdblclick",h),f(I,"clusterrightclick",M),f(I,"clustered",w),I?a.default.createElement(y.Provider,{value:I},o):null}),w=a.default.forwardRef(function(e,n){var o=e.map,r=e.position,i=e.children,u=e.altitude,s=e.clickable,l=e.draggable,c=e.image,d=e.infoWindowOptions,p=e.onCreate,k=e.onClick,m=e.onDragEnd,v=e.onDragStart,h=e.onMouseOut,w=e.onMouseOver,C=e.opacity,L=e.range,M=e.title,E=e.zIndex,b=t.useContext(y),I=t.useMemo(function(){return new kakao.maps.Marker({altitude:u,clickable:s,draggable:l,image:c,opacity:C,range:L,title:M,zIndex:E,position:r})},[]);return t.useImperativeHandle(n,function(){return I},[I]),t.useLayoutEffect(function(){return b?b.addMarker(I):I.setMap(o),function(){b?b.removeMarker(I):I.setMap(null)}},[o,b,I]),t.useLayoutEffect(function(){p&&p(I)},[I,p]),f(I,"click",k),f(I,"dragstart",v),f(I,"dragend",m),f(I,"mouseout",h),f(I,"mouseover",w),t.useLayoutEffect(function(){o&&I&&r&&I.setPosition(r)},[o,I,r]),t.useLayoutEffect(function(){o&&I&&c&&I.setImage(c)},[o,I,c]),t.useLayoutEffect(function(){o&&I&&u&&I.setAltitude(u)},[o,I,u]),t.useLayoutEffect(function(){o&&I&&void 0!==s&&I.setClickable(s)},[o,I,s]),t.useLayoutEffect(function(){o&&I&&void 0!==l&&I.setDraggable(l)},[o,I,l]),t.useLayoutEffect(function(){o&&I&&C&&I.setOpacity(C)},[o,I,C]),t.useLayoutEffect(function(){o&&I&&L&&I.setRange(L)},[o,I,L]),t.useLayoutEffect(function(){o&&I&&M&&I.setTitle(M)},[o,I,M]),t.useLayoutEffect(function(){o&&I&&E&&I.setZIndex(E)},[o,I,E]),i?a.default.createElement(g,{position:r,map:o,marker:I,altitude:null==d?void 0:d.altitude,disableAutoPan:null==d?void 0:d.disableAutoPan,range:null==d?void 0:d.range,removable:null==d?void 0:d.removable,zIndex:null==d?void 0:d.zIndex},i):null}),C=a.default.forwardRef(function(e,n){var o=e.image,r=e.position,i=e.children,u=e.clickable,s=e.draggable,l=e.infoWindowOptions,c=e.onClick,f=e.onDragEnd,d=e.onDragStart,p=e.onMouseOut,k=e.onMouseOver,m=e.onCreate,g=e.opacity,y=e.title,h=e.zIndex,C=v("MapMarker"),L=t.useMemo(function(){var e,t,n,a,r,i,u,s,l,c,f,d;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(n=o.options)?void 0:n.offset)&&new kakao.maps.Point(null==(a=o.options)?void 0:a.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(i=o.options)?void 0:i.shape,spriteOrigin:(null==(u=o.options)?void 0:u.spriteOrigin)&&new kakao.maps.Point(null==(s=o.options)?void 0:s.spriteOrigin.x,null==(l=o.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=o.options)?void 0:f.spriteSize.width,null==(d=o.options)?void 0:d.spriteSize.height)})},[o]),M=t.useMemo(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):new kakao.maps.Coords(r.x,r.y).toLatLng()},[r.lat,r.lng,r.x,r.y]);return a.default.createElement(w,{map:C,position:M,image:L,clickable:u,draggable:s,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:p,onMouseOver:k,onCreate:m,opacity:g,title:y,zIndex:h,ref:n},i)}),L=a.default.forwardRef(function(e,n){var o=e.position,r=e.children,i=e.disableAutoPan,u=e.removable,s=e.zIndex,l=e.onCreate,c=v("MapInfoWindow"),f=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]);return a.default.createElement(g,{disableAutoPan:i,removable:u,zIndex:s,map:c,position:f,onCreate:l,ref:n},r)}),M=a.default.forwardRef(function(e,n){var o=e.position,a=e.children,i=e.clickable,u=e.xAnchor,s=e.yAnchor,l=e.zIndex,c=e.onCreate,f=t.useContext(y),d=v("CustomOverlayMap"),p=t.useRef(document.createElement("div")),k=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),m=t.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:i,xAnchor:u,yAnchor:s,zIndex:l,position:k,content:p.current});return p.current.style.display="none",e},[i,u,s]);return t.useImperativeHandle(n,function(){return m},[m]),t.useLayoutEffect(function(){if(d)return f?f.addMarker(m):m.setMap(d),function(){f?f.removeMarker(m):m.setMap(null)}},[d,f,m]),t.useLayoutEffect(function(){c&&c(m)},[m,c]),t.useLayoutEffect(function(){m.setPosition(k)},[m,k]),t.useLayoutEffect(function(){l&&m.setZIndex(l)},[m,l]),p.current.parentElement&&r.default.createPortal(a,p.current.parentElement)}),E=a.default.forwardRef(function(e,n){var o=e.position,a=void 0===o?kakao.maps.ControlPosition.TOPRIGHT:o,r=v("MapTypeControl"),i=t.useMemo(function(){return new kakao.maps.MapTypeControl},[]);return t.useImperativeHandle(n,function(){return i},[i]),t.useLayoutEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,i,a]),null}),b=a.default.forwardRef(function(e,n){var o=e.position,a=void 0===o?kakao.maps.ControlPosition.RIGHT:o,r=v("ZoomControl"),i=t.useMemo(function(){return new kakao.maps.ZoomControl},[]);return t.useImperativeHandle(n,function(){return i},[i]),t.useEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,a]),null}),I=a.default.forwardRef(function(e,n){var o=e.center,a=e.radius,r=e.fillColor,i=e.fillOpacity,u=e.strokeColor,s=e.strokeOpacity,l=e.strokeStyle,c=e.strokeWeight,d=e.zIndex,p=e.onMouseover,k=e.onMouseout,m=e.onMousemove,g=e.onMousedown,y=e.onClick,h=e.onCreate,w=v("Circle"),C=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),L=t.useMemo(function(){return new kakao.maps.Circle({center:C,radius:a,fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:s,strokeStyle:l,strokeWeight:c,zIndex:d})},[]);return t.useImperativeHandle(n,function(){return L},[L]),t.useLayoutEffect(function(){return L.setMap(w),function(){L.setMap(null)}},[w,L]),t.useLayoutEffect(function(){h&&h(L)},[L,h]),t.useLayoutEffect(function(){L&&L.setPosition(C)},[L,C]),t.useLayoutEffect(function(){L.setRadius(a)},[L,a]),t.useLayoutEffect(function(){d&&L.setZIndex(d)},[L,d]),t.useLayoutEffect(function(){L.setOptions({fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:s,strokeStyle:l,strokeWeight:c})},[L,r,i,u,s,l,c]),f(L,"mouseover",p),f(L,"mouseout",k),f(L,"mousemove",m),f(L,"mousedown",g),f(L,"click",y),null}),O=a.default.forwardRef(function(e,n){var o=e.path,a=e.endArrow,r=e.onClick,i=e.onMousedown,u=e.onMousemove,s=e.onMouseout,l=e.onMouseover,c=e.onCreate,d=e.strokeColor,p=e.strokeOpacity,k=e.strokeStyle,m=e.strokeWeight,g=e.zIndex,y=v("Polyline"),h=t.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),w=t.useMemo(function(){return new kakao.maps.Polyline({path:h,endArrow:a,strokeColor:d,strokeOpacity:p,strokeStyle:k,strokeWeight:m,zIndex:g})},[]);return t.useImperativeHandle(n,function(){return w},[w]),t.useLayoutEffect(function(){return w.setMap(y),function(){return w.setMap(null)}},[y,w]),t.useLayoutEffect(function(){c&&c(w)},[w,c]),t.useLayoutEffect(function(){w.setOptions({endArrow:a,strokeColor:d,strokeOpacity:p,strokeStyle:k,strokeWeight:m})},[w,a,d,p,k,m]),t.useLayoutEffect(function(){w.setPath(h)},[w,h]),t.useLayoutEffect(function(){g&&w.setZIndex(g)},[w,g]),f(w,"mouseover",l),f(w,"mouseout",s),f(w,"mousemove",u),f(w,"mousedown",i),f(w,"click",r),null}),x=a.default.forwardRef(function(e,n){var o=e.path,a=e.onClick,r=e.onMousedown,i=e.onMousemove,u=e.onMouseout,s=e.onMouseover,l=e.onCreate,c=e.strokeColor,d=e.strokeOpacity,p=e.strokeStyle,k=e.strokeWeight,m=e.fillColor,g=e.fillOpacity,y=e.zIndex,h=v("Polygon"),w=t.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),C=t.useMemo(function(){return new kakao.maps.Polygon({path:w,fillColor:m,fillOpacity:g,strokeColor:c,strokeOpacity:d,strokeStyle:p,strokeWeight:k,zIndex:y})},[]);return t.useImperativeHandle(n,function(){return C},[C]),t.useLayoutEffect(function(){return C.setMap(h),function(){return C.setMap(null)}},[h,C]),t.useLayoutEffect(function(){l&&l(C)},[C,l]),t.useLayoutEffect(function(){C.setOptions({fillColor:m,fillOpacity:g,strokeColor:c,strokeOpacity:d,strokeStyle:p,strokeWeight:k})},[C,m,g,c,d,p,k]),t.useLayoutEffect(function(){C.setPath(w)},[C,w]),t.useLayoutEffect(function(){y&&C.setZIndex(y)},[C,y]),f(C,"mouseover",s),f(C,"mouseout",u),f(C,"mousemove",i),f(C,"mousedown",r),f(C,"click",a),null}),S=a.default.forwardRef(function(e,n){var o=e.bounds,a=e.onClick,r=e.onMousedown,i=e.onMousemove,u=e.onMouseout,s=e.onMouseover,l=e.onCreate,c=e.strokeColor,d=e.strokeOpacity,p=e.strokeStyle,k=e.strokeWeight,m=e.fillColor,g=e.fillOpacity,y=e.zIndex,h=v("Rectangle"),w=t.useMemo(function(){return new kakao.maps.LatLngBounds(new kakao.maps.LatLng(o.sw.lat,o.sw.lng),new kakao.maps.LatLng(o.ne.lat,o.ne.lng))},[o]),C=t.useMemo(function(){return new kakao.maps.Rectangle({bounds:w,fillColor:m,fillOpacity:g,strokeColor:c,strokeOpacity:d,strokeStyle:p,strokeWeight:k,zIndex:y})},[]);return t.useImperativeHandle(n,function(){return C},[C]),t.useLayoutEffect(function(){return C.setMap(h),function(){return C.setMap(null)}},[h,C]),t.useLayoutEffect(function(){l&&l(C)},[C,l]),t.useLayoutEffect(function(){C.setOptions({fillColor:m,fillOpacity:g,strokeColor:c,strokeOpacity:d,strokeStyle:p,strokeWeight:k})},[C,m,g,c,d,p,k]),t.useLayoutEffect(function(){C.setBounds(w)},[C,w]),t.useLayoutEffect(function(){y&&C.setZIndex(y)},[C,y]),f(C,"mouseover",s),f(C,"mouseout",u),f(C,"mousemove",i),f(C,"mousedown",r),f(C,"click",a),null}),z=a.default.forwardRef(function(e,n){var o=e.center,a=e.rx,r=e.ry,i=e.fillColor,u=e.fillOpacity,s=e.strokeColor,l=e.strokeOpacity,c=e.strokeStyle,d=e.strokeWeight,p=e.zIndex,k=e.onMouseover,m=e.onMouseout,g=e.onMousemove,y=e.onMousedown,h=e.onClick,w=e.onCreate,C=v("Ellipse"),L=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),M=t.useMemo(function(){return new kakao.maps.Ellipse({center:L,rx:a,ry:r,fillColor:i,fillOpacity:u,strokeColor:s,strokeOpacity:l,strokeStyle:c,strokeWeight:d,zIndex:p})},[]);return t.useImperativeHandle(n,function(){return M},[M]),t.useLayoutEffect(function(){return M.setMap(C),function(){M.setMap(null)}},[C,M]),t.useLayoutEffect(function(){w&&w(M)},[M,w]),t.useLayoutEffect(function(){M&&M.setPosition(L)},[M,L]),t.useLayoutEffect(function(){M.setRadius(a,r)},[M,a,r]),t.useLayoutEffect(function(){p&&M.setZIndex(p)},[M,p]),t.useLayoutEffect(function(){M.setOptions({fillColor:i,fillOpacity:u,strokeColor:s,strokeOpacity:l,strokeStyle:c,strokeWeight:d})},[M,i,u,s,l,c,d]),f(M,"mouseover",k),f(M,"mouseout",m),f(M,"mousemove",g),f(M,"mousedown",y),f(M,"click",h),null}),P=a.default.forwardRef(function(e,n){var o=e.draw,a=e.onAdd,r=e.onRemove,i=e.onCreate,s=v(),l=t.useMemo(function(){var e=/*#__PURE__*/function(e){var t,n;function o(t,n,o){var a;return(a=e.call(this)||this).draw=t,a.onAdd=n,a.onRemove=o,a}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),o}(kakao.maps.AbstractOverlay);return new e(o,a,r)},[o,a,r]);return t.useImperativeHandle(n,function(){return l},[l]),t.useLayoutEffect(function(){return l.setMap(s),function(){l.setMap(null)}},[s,l]),t.useLayoutEffect(function(){i&&i(l)},[l,i]),null}),R=["id","as","children","position","pan","panoId","panoX","panoY","tilt","zoom","onCreate","onInit","onPanoidChange","onPositionChanged","onViewpointChange","onErrorGetNearestPanoId"],A=a.default.createContext(void 0),D=a.default.forwardRef(function(e,n){var o=e.id,r=e.as,u=e.children,l=e.position,p=e.pan,k=e.panoId,m=e.panoX,v=e.panoY,g=e.tilt,y=e.zoom,h=e.onCreate,w=e.onInit,C=e.onPanoidChange,L=e.onPositionChanged,M=e.onViewpointChange,E=e.onErrorGetNearestPanoId,b=s(e,R),I=r||"div",O=t.useState(!1),x=O[0],S=O[1],z=t.useState(!0),P=z[0],D=z[1],T=t.useState(),Z=T[0],W=T[1],H=t.useRef(null);return c(function(){d.isLoaded().then(S)},[]),c(function(){if(x){var e=H.current;if(e){var t=new kakao.maps.Roadview(e,{pan:p,panoId:k,panoX:m,panoY:v,tilt:g,zoom:y});return W(t),function(){e.innerHTML=""}}}},[x,m,v,y]),t.useImperativeHandle(n,function(){return Z},[Z]),c(function(){Z&&h&&h(Z)},[Z,h]),c(function(){if(Z&&!k&&(Z.getPosition().getLat()!==l.lat||Z.getPosition().getLng()!==l.lng)){var e=new kakao.maps.LatLng(l.lat,l.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,l.radius,function(t){null===t&&E?E(Z):Z.setPanoId(t,e)})}},[Z,k,l.lat,l.lng,l.radius,E]),c(function(){if(Z&&k&&k!==Z.getPanoId()&&(Z.getPosition().getLat()!==l.lat||Z.getPosition().getLng()!==l.lng)){var e=new kakao.maps.LatLng(l.lat,l.lng);Z.setPanoId(k,e)}},[Z,k,l.lat,l.lng]),c(function(){if(Z){var e=Z.getViewpoint();e.pan===p&&e.tilt===g||(p&&(e.pan=p),g&&(e.tilt=g),Z.setViewpoint(e))}},[Z,p,g]),f(Z,"init",function(e){D(!1),w&&w(e)}),f(Z,"panoid_changed",C),f(Z,"viewpoint_changed",M),f(Z,"position_changed",L),a.default.createElement(a.default.Fragment,null,a.default.createElement(I,i({ref:H,id:o||"react-kakao-maps-sdk-roadview-container"},b)),Z&&!P&&a.default.createElement(A.Provider,{value:Z},u))}),T=function(e){var n=t.useContext(A);if(!n)throw new Error((e?e+" Component":"useRoadview")+" must exist inside Roadview Component!");return n},Z=a.default.forwardRef(function(e,n){var o=e.position,a=e.children,i=e.clickable,u=e.xAnchor,s=e.yAnchor,l=e.zIndex,c=e.altitude,f=e.range,d=e.onCreate,p=T("CustomOverlayRoadview"),k=t.useRef(document.createElement("div")),m=t.useMemo(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]),v=t.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:i,xAnchor:u,yAnchor:s,zIndex:l,position:m,content:k.current});return k.current.style.display="none",e},[i,u,s]);return t.useImperativeHandle(n,function(){return v},[v]),t.useLayoutEffect(function(){if(p)return v.setMap(p),function(){v.setMap(null)}},[v,p]),t.useLayoutEffect(function(){d&&d(v)},[v,d]),t.useLayoutEffect(function(){v.setPosition(m)},[v,m]),t.useLayoutEffect(function(){l&&v.setZIndex(l)},[v,l]),t.useLayoutEffect(function(){c&&v.setAltitude(c)},[v,c]),t.useLayoutEffect(function(){f&&v.setRange(f)},[v,f]),k.current.parentElement&&r.default.createPortal(a,k.current.parentElement)}),W=a.default.forwardRef(function(e,n){var o=e.image,r=e.position,i=e.children,u=e.altitude,s=e.clickable,l=e.infoWindowOptions,c=e.onClick,f=e.onDragEnd,d=e.onDragStart,p=e.onMouseOut,k=e.onMouseOver,m=e.onCreate,v=e.opacity,g=e.range,y=e.title,h=e.zIndex,C=T("RoadviewMarker"),L=t.useMemo(function(){var e,t,n,a,r,i,u,s,l,c,f,d;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(n=o.options)?void 0:n.offset)&&new kakao.maps.Point(null==(a=o.options)?void 0:a.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(i=o.options)?void 0:i.shape,spriteOrigin:(null==(u=o.options)?void 0:u.spriteOrigin)&&new kakao.maps.Point(null==(s=o.options)?void 0:s.spriteOrigin.x,null==(l=o.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=o.options)?void 0:f.spriteSize.width,null==(d=o.options)?void 0:d.spriteSize.height)})},[o]),M=t.useMemo(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):"x"in r?new kakao.maps.Coords(r.x,r.y).toLatLng():new kakao.maps.Viewpoint(r.pan,r.tilt,r.zoom,r.panoId)},[r.lat,r.lng,r.x,r.y,r.pan,r.tilt,r.zoom,null==r?void 0:r.panoId]);return a.default.createElement(w,{map:C,position:M,image:L,altitude:u,clickable:s,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:p,onMouseOver:k,onCreate:m,opacity:v,range:g,title:y,zIndex:h,ref:n},i)}),H=a.default.forwardRef(function(e,n){var o=e.position,r=e.children,i=e.altitude,u=e.disableAutoPan,s=e.range,l=e.removable,c=e.zIndex,f=e.onCreate,d=T("RoadviewInfoWindow"),p=t.useMemo(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]);return a.default.createElement(g,{altitude:i,disableAutoPan:u,range:s,removable:l,zIndex:c,map:d,position:p,onCreate:f,ref:n},r)}),j=a.default.createContext(void 0);function N(e,n,o){t.useLayoutEffect(function(){e&&o&&e.addListener(n,function(){var t=[].slice.call(arguments);return void 0===t?o(e):o.apply(void 0,[e].concat(t))})},[o,e,n])}var _=a.default.forwardRef(function(e,n){var o=e.arrowOptions,r=e.circleOptions,i=e.ellipseOptions,u=e.markerOptions,s=e.polygonOptions,l=e.polylineOptions,c=e.rectangleOptions,f=e.drawingMode,d=e.guideTooltip,p=e.onSelect,k=e.onDrawstart,m=e.onDraw,g=e.onDrawend,y=e.onDrawnext,h=e.onCancle,w=e.onRemove,C=e.onStateChanged,L=e.onCreate,M=e.children,E=v("Toolbox"),b=t.useMemo(function(){if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:E,drawingMode:f,guideTooltip:d,arrowOptions:o,circleOptions:r,ellipseOptions:i,markerOptions:u,polygonOptions:s,polylineOptions:l,rectangleOptions:c});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return t.useImperativeHandle(n,function(){return b},[b]),t.useLayoutEffect(function(){b&&L&&L(b)},[b,L]),N(b,"select",p),N(b,"drawstart",k),N(b,"draw",m),N(b,"drawend",g),N(b,"drawnext",y),N(b,"cancel",h),N(b,"remove",w),N(b,"state_changed",C),b?a.default.createElement(j.Provider,{value:b},M):null}),F=a.default.forwardRef(function(e,n){var o=e.position;o=o||kakao.maps.ControlPosition.TOP;var a=v("Toolbox"),r=t.useContext(j);if(!r)throw new Error("Toolbox must exist inside DrawingManager Component!`");var i=t.useMemo(function(){return new kakao.maps.drawing.Toolbox({drawingManager:r})},[r]);return t.useImperativeHandle(n,function(){return i},[i]),t.useLayoutEffect(function(){var e=i.getElement();return a.addControl(e,o),function(){a.removeControl(e)}},[a,i,o]),null}),G=a.default.forwardRef(function(e,n){var o=e.id,r=void 0===o?"react-kakao-maps-sdk-staticmap-container":o,u=e.style,s=e.className,l=e.center,f=e.marker,d=e.level,p=e.mapTypeId,k=e.onCreate,m=t.useState(),v=m[0],g=m[1],y=t.useRef(null);return c(function(){if(window.kakao){var e=y.current;e&&kakao.maps.load(function(){var t=Array.isArray(f)?f.map(function(e){return i({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})}):"object"==typeof f&&f.position?i({},f,{position:new kakao.maps.LatLng(f.position.lat,f.position.lng)}):f,n=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(l.lat,l.lng),level:d,mapTypeId:p,marker:t});g(n)})}else console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`")},[JSON.stringify(f)]),t.useImperativeHandle(n,function(){return v},[v]),c(function(){v&&v.setCenter(new kakao.maps.LatLng(l.lat,l.lng))},[v,l.lat,l.lng]),c(function(){v&&d&&v.setLevel(d)},[v,d]),c(function(){v&&p&&v.setMapTypeId(p)},[v,p]),c(function(){v&&k&&k(v)},[v,k]),a.default.createElement("div",{id:r,style:u,className:s,ref:y})});e.AbstractOverlay=P,e.Circle=I,e.CustomOverlayMap=M,e.CustomOverlayRoadview=Z,e.DrawingManager=_,e.Ellipse=z,e.Loader=d,e.Map=m,e.MapInfoWindow=L,e.MapMarker=C,e.MapTypeControl=E,e.MapTypeId=function(e){var n=e.type,o=v("MapTypeId");return t.useEffect(function(){return o.addOverlayMapTypeId(n),function(){o.removeOverlayMapTypeId(n)}},[o,n]),null},e.MarkerClusterer=h,e.Polygon=x,e.Polyline=O,e.Rectangle=S,e.Roadview=D,e.RoadviewInfoWindow=H,e.RoadviewMarker=W,e.StaticMap=G,e.Toolbox=F,e.ZoomControl=b,e.useInjectKakaoMapApi=function(e){var n=t.useState({loading:!0,error:void 0}),o=n[0],a=n[1],r=t.useMemo(function(){return new d(e)},[JSON.stringify(e)]);return t.useEffect(function(){r.load().then(function(){return a({loading:!1,error:void 0})}).catch(function(e){return a({loading:!1,error:e})})},[r]),o},e.useMap=v,e.useRoadview=T});
//# sourceMappingURL=index.umd.js.map
